# Application Settings
APP_NAME="Glueful"
APP_ENV=development
# Note: Framework automatically sets APP_DEBUG=false when APP_ENV=production
APP_DEBUG=true
BASE_URL=http://localhost:8000
# Note: Framework automatically disables API docs when APP_ENV=production for security
API_DOCS_ENABLED=true

#=============================================================================
# API URL Configuration
#=============================================================================
# Choose your URL pattern (uncomment one):
#
# Pattern A: Dedicated subdomain (recommended for public APIs)
#   BASE_URL=https://api.example.com
#   API_USE_PREFIX=false
#   API_VERSION_IN_PATH=true
#   Result: https://api.example.com/v1/auth/login
#
# Pattern B: Path prefix (traditional, default)
#   BASE_URL=https://example.com
#   API_USE_PREFIX=true
#   API_PREFIX=/api
#   API_VERSION_IN_PATH=true
#   Result: https://example.com/api/v1/auth/login
#
# Pattern C: No versioning (simple APIs)
#   BASE_URL=https://api.example.com
#   API_USE_PREFIX=false
#   API_VERSION_IN_PATH=false
#   Result: https://api.example.com/auth/login

# Current Configuration (Pattern B - traditional)
API_VERSION=1
API_USE_PREFIX=true
API_PREFIX=/api
API_VERSION_IN_PATH=true

# Security Keys - IMPORTANT: Generate secure keys before production!
# Use: php bin/glueful generate:key to create secure keys automatically
APP_KEY=
# Generate a strong JWT secret (32+ chars). Recommended: base64 256-bit
JWT_KEY=
ACCESS_TOKEN_LIFETIME=900     # 15 minutes
REFRESH_TOKEN_LIFETIME=604800 # 7 days
# Note: Framework uses stricter security levels automatically in production
DEFAULT_SECURITY_LEVEL=1
TOKEN_SALT=
JWT_ALGORITHM=HS256

# CORS Configuration
# Development: local origins prefilled for convenience
# Production: set explicit domains; avoid '*'
CORS_ALLOWED_ORIGINS=http://localhost,http://localhost:3000,http://localhost:5173,http://localhost:8080

# Security Headers (Production-ready defaults included)
# Disable CSP by default (set per-app if needed)
CSP_HEADER=""
HSTS_HEADER="max-age=31536000; includeSubDomains"

# Production Security Settings
# Note: Framework automatically enables HTTPS enforcement in production
FORCE_HTTPS=false

# Health/Readiness Security
# Comma-separated allowlist (e.g., 127.0.0.1,10.0.0.0/8)
HEALTH_IP_ALLOWLIST=

# Security Validation Warnings
# Set to true to disable security guidance (not recommended)
DISABLE_SECURITY_WARNINGS=false
DISABLE_PRODUCTION_WARNINGS=false
SUPPRESS_SECURITY_WARNINGS=false

# HTTP Client (optional overrides)
# HTTP_TIMEOUT=30
# HTTP_MAX_DURATION=60
# HTTP_MAX_REDIRECTS=3
# HTTP_VERSION=2.0
# HTTP_VERIFY_SSL=true
# HTTP_USER_AGENT=Glueful/1.0

# PSR-15 Middleware Bridge (HTTP layer)
# PSR15_ENABLED=true
# PSR15_AUTO_DETECT=true
# PSR15_STRICT=true

# Database - SQLite (no setup required)
DB_DRIVER=sqlite
# Use absolute path or relative to project root (resolved in config/database.php)
DB_SQLITE_DATABASE=storage/database/glueful.sqlite
DB_POOLING_ENABLED=false

# MySQL Configuration (uncomment to use MySQL instead of SQLite)
# DB_DRIVER=mysql
# DB_HOST=localhost
# DB_PORT=3306
# DB_DATABASE=your_database_name
# DB_USER=your_database_user
# DB_PASSWORD=your_database_password
# DB_MYSQL_ROLE=primary

# PostgreSQL Configuration (uncomment to use PostgreSQL instead of SQLite)
# DB_DRIVER=pgsql
# DB_PGSQL_HOST=localhost
# DB_PGSQL_PORT=5432
# DB_PGSQL_DATABASE=your_database_name
# DB_PGSQL_USERNAME=your_database_user
# DB_PGSQL_PASSWORD=your_database_password
# DB_PGSQL_SCHEMA=public
# DB_PGSQL_SSL_MODE=prefer

# Redis Configuration
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_DB=1

# Cache Configuration
CACHE_DRIVER=file    # file, redis, memcached, array
CACHE_PREFIX=glueful:
CACHE_TTL=3600

# Queue Configuration
QUEUE_CONNECTION=database    # database, redis, sync, null

# Email Configuration
MAIL_MAILER=smtp
MAIL_HOST=your_smtp_host
MAIL_USERNAME=your_smtp_username
MAIL_PASSWORD=your_smtp_password
MAIL_ENCRYPTION=tls
MAIL_PORT=587
MAIL_BCC=
MAIL_FROM=no-reply@yourdomain.com
MAIL_FROM_NAME=Glueful
MAIL_LOGO_URL=https://yourdomain.com/logo.png

# AWS S3 Configuration
S3_ACCESS_KEY_ID=your_s3_key_id
S3_SECRET_ACCESS_KEY=your_s3_secret
S3_REGION=your_s3_region
S3_BUCKET=your_s3_bucket
S3_ENDPOINT=your_s3_endpoint
S3_ACL=private
S3_SIGNED_URLS=true
S3_SIGNED_URL_TTL=3600

# Storage / Filesystem
# Paths are based on base_path('storage/...') by default.
# Override file security limits as needed:
MAX_FILE_UPLOAD_SIZE=10485760

# Logging Configuration

# Framework Logging (Infrastructure/Protocol concerns)
FRAMEWORK_LOGGING_ENABLED=true
FRAMEWORK_LOG_LEVEL=info
FRAMEWORK_LOG_CHANNEL=framework
LOG_FRAMEWORK_EXCEPTIONS=true
LOG_FRAMEWORK_DEPRECATIONS=true
LOG_FRAMEWORK_LIFECYCLE=true
LOG_FRAMEWORK_PROTOCOL_ERRORS=true

# Framework Performance Monitoring (Optional Features)
LOG_SLOW_REQUESTS=true
SLOW_REQUEST_THRESHOLD=1000
LOG_SLOW_QUERIES=true
SLOW_QUERY_THRESHOLD=200
LOG_HTTP_CLIENT_FAILURES=true
HTTP_CLIENT_SLOW_THRESHOLD=5000

# Application Logging (Business Logic)
LOG_CHANNEL=app
LOG_LEVEL=debug
LOG_FILE_PATH=storage/logs
LOG_TO_FILE=true
LOG_TO_DB=false
LOG_ROTATION_DAYS=30
API_LOG_FILE=api_debug_
